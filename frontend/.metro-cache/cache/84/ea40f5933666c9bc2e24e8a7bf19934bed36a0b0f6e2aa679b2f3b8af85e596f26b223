{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/login`, {\n          email,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (name, email, password, userType, phone) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/register`, {\n          name,\n          email,\n          password,\n          userType,\n          phone\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":128,"map":[[13,2,26,0,"Object"],[13,8,26,0],[13,9,26,0,"defineProperty"],[13,23,26,0],[13,24,26,0,"exports"],[13,31,26,0],[14,4,26,0,"enumerable"],[14,14,26,0],[15,4,26,0,"get"],[15,7,26,0],[15,18,26,0,"get"],[15,19,26,0],[16,6,26,0],[16,13,26,0,"AuthProvider"],[16,25,26,0],[17,4,26,0],[18,2,26,0],[19,2,110,0,"Object"],[19,8,110,0],[19,9,110,0,"defineProperty"],[19,23,110,0],[19,24,110,0,"exports"],[19,31,110,0],[20,4,110,0,"enumerable"],[20,14,110,0],[21,4,110,0,"get"],[21,7,110,0],[21,18,110,0,"get"],[21,19,110,0],[22,6,110,0],[22,13,110,0,"useAuth"],[22,20,110,0],[23,4,110,0],[24,2,110,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"BACKEND_URL"],[31,19,5,17],[31,22,5,20,"process"],[31,29,5,27],[31,30,5,28,"env"],[31,33,5,31],[31,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[31,57,5,55],[32,2,24,0],[32,8,24,6,"AuthContext"],[32,19,24,17],[32,35,24,20],[32,39,24,20,"createContext"],[32,45,24,33],[32,46,24,33,"createContext"],[32,59,24,33],[32,61,24,63,"undefined"],[32,70,24,72],[32,71,24,73],[33,2,26,7],[33,8,26,13,"AuthProvider"],[33,20,26,66],[33,23,26,69,"AuthProvider"],[33,24,26,70],[34,4,26,72,"children"],[35,2,26,81],[35,3,26,82],[35,8,26,87],[36,4,27,2],[36,10,27,8],[36,11,27,9,"user"],[36,15,27,13],[36,17,27,15,"setUser"],[36,24,27,22],[36,25,27,23],[36,28,27,26],[36,32,27,26,"useState"],[36,38,27,34],[36,39,27,34,"useState"],[36,47,27,34],[36,49,27,48],[36,53,27,52],[36,54,27,53],[37,4,28,2],[37,10,28,8],[37,11,28,9,"token"],[37,16,28,14],[37,18,28,16,"setToken"],[37,26,28,24],[37,27,28,25],[37,30,28,28],[37,34,28,28,"useState"],[37,40,28,36],[37,41,28,36,"useState"],[37,49,28,36],[37,51,28,52],[37,55,28,56],[37,56,28,57],[38,4,29,2],[38,10,29,8],[38,11,29,9,"loading"],[38,18,29,16],[38,20,29,18,"setLoading"],[38,30,29,28],[38,31,29,29],[38,34,29,32],[38,38,29,32,"useState"],[38,44,29,40],[38,45,29,40,"useState"],[38,53,29,40],[38,55,29,41],[38,59,29,45],[38,60,29,46],[39,4,31,2],[39,8,31,2,"useEffect"],[39,14,31,11],[39,15,31,11,"useEffect"],[39,24,31,11],[39,26,31,12],[39,32,31,18],[40,6,32,4,"loadStoredAuth"],[40,20,32,18],[40,21,32,19],[40,22,32,20],[41,4,33,2],[41,5,33,3],[41,7,33,5],[41,9,33,7],[41,10,33,8],[42,4,35,2],[42,10,35,8,"loadStoredAuth"],[42,24,35,22],[42,27,35,25],[42,33,35,25,"loadStoredAuth"],[42,34,35,25],[42,39,35,37],[43,6,36,4],[43,10,36,8],[44,8,37,6],[44,14,37,12,"storedToken"],[44,25,37,23],[44,28,37,26],[44,34,37,32,"AsyncStorage"],[44,46,37,44],[44,47,37,44,"default"],[44,54,37,44],[44,55,37,45,"getItem"],[44,62,37,52],[44,63,37,53],[44,70,37,60],[44,71,37,61],[45,8,38,6],[45,14,38,12,"storedUser"],[45,24,38,22],[45,27,38,25],[45,33,38,31,"AsyncStorage"],[45,45,38,43],[45,46,38,43,"default"],[45,53,38,43],[45,54,38,44,"getItem"],[45,61,38,51],[45,62,38,52],[45,68,38,58],[45,69,38,59],[46,8,40,6],[46,12,40,10,"storedToken"],[46,23,40,21],[46,27,40,25,"storedUser"],[46,37,40,35],[46,39,40,37],[47,10,41,8,"setToken"],[47,18,41,16],[47,19,41,17,"storedToken"],[47,30,41,28],[47,31,41,29],[48,10,42,8,"setUser"],[48,17,42,15],[48,18,42,16,"JSON"],[48,22,42,20],[48,23,42,21,"parse"],[48,28,42,26],[48,29,42,27,"storedUser"],[48,39,42,37],[48,40,42,38],[48,41,42,39],[49,8,43,6],[50,6,44,4],[50,7,44,5],[50,8,44,6],[50,15,44,13,"error"],[50,20,44,18],[50,22,44,20],[51,8,45,6,"console"],[51,15,45,13],[51,16,45,14,"error"],[51,21,45,19],[51,22,45,20],[51,43,45,41],[51,45,45,43,"error"],[51,50,45,48],[51,51,45,49],[52,6,46,4],[52,7,46,5],[52,16,46,14],[53,8,47,6,"setLoading"],[53,18,47,16],[53,19,47,17],[53,24,47,22],[53,25,47,23],[54,6,48,4],[55,4,49,2],[55,5,49,3],[56,4,51,2],[56,10,51,8,"login"],[56,15,51,13],[56,18,51,16],[56,24,51,16,"login"],[56,25,51,23,"email"],[56,30,51,36],[56,32,51,38,"password"],[56,40,51,54],[56,45,51,59],[57,6,52,4],[57,10,52,8],[58,8,53,6],[58,14,53,12,"response"],[58,22,53,20],[58,25,53,23],[58,31,53,29,"axios"],[58,36,53,34],[58,37,53,34,"default"],[58,44,53,34],[58,45,53,35,"post"],[58,49,53,39],[58,50,53,40],[58,53,53,43,"BACKEND_URL"],[58,64,53,54],[58,76,53,66],[58,78,53,68],[59,10,54,8,"email"],[59,15,54,13],[60,10,55,8,"password"],[61,8,56,6],[61,9,56,7],[61,10,56,8],[62,8,58,6],[62,14,58,12],[63,10,58,14,"token"],[63,15,58,19],[63,17,58,21,"newToken"],[63,25,58,29],[64,10,58,31,"user"],[64,14,58,35],[64,16,58,37,"newUser"],[65,8,58,45],[65,9,58,46],[65,12,58,49,"response"],[65,20,58,57],[65,21,58,58,"data"],[65,25,58,62],[66,8,60,6],[66,14,60,12,"AsyncStorage"],[66,26,60,24],[66,27,60,24,"default"],[66,34,60,24],[66,35,60,25,"setItem"],[66,42,60,32],[66,43,60,33],[66,50,60,40],[66,52,60,42,"newToken"],[66,60,60,50],[66,61,60,51],[67,8,61,6],[67,14,61,12,"AsyncStorage"],[67,26,61,24],[67,27,61,24,"default"],[67,34,61,24],[67,35,61,25,"setItem"],[67,42,61,32],[67,43,61,33],[67,49,61,39],[67,51,61,41,"JSON"],[67,55,61,45],[67,56,61,46,"stringify"],[67,65,61,55],[67,66,61,56,"newUser"],[67,73,61,63],[67,74,61,64],[67,75,61,65],[68,8,63,6,"setToken"],[68,16,63,14],[68,17,63,15,"newToken"],[68,25,63,23],[68,26,63,24],[69,8,64,6,"setUser"],[69,15,64,13],[69,16,64,14,"newUser"],[69,23,64,21],[69,24,64,22],[70,6,65,4],[70,7,65,5],[70,8,65,6],[70,15,65,13,"error"],[70,20,65,23],[70,22,65,25],[71,8,66,6],[71,14,66,12],[71,18,66,16,"Error"],[71,23,66,21],[71,24,66,22,"error"],[71,29,66,27],[71,30,66,28,"response"],[71,38,66,36],[71,40,66,38,"data"],[71,44,66,42],[71,46,66,44,"detail"],[71,52,66,50],[71,56,66,54],[71,70,66,68],[71,71,66,69],[72,6,67,4],[73,4,68,2],[73,5,68,3],[74,4,70,2],[74,10,70,8,"register"],[74,18,70,16],[74,21,70,19],[74,27,70,19,"register"],[74,28,70,26,"name"],[74,32,70,38],[74,34,70,40,"email"],[74,39,70,53],[74,41,70,55,"password"],[74,49,70,71],[74,51,70,73,"userType"],[74,59,70,89],[74,61,70,91,"phone"],[74,66,70,105],[74,71,70,110],[75,6,71,4],[75,10,71,8],[76,8,72,6],[76,14,72,12,"response"],[76,22,72,20],[76,25,72,23],[76,31,72,29,"axios"],[76,36,72,34],[76,37,72,34,"default"],[76,44,72,34],[76,45,72,35,"post"],[76,49,72,39],[76,50,72,40],[76,53,72,43,"BACKEND_URL"],[76,64,72,54],[76,79,72,69],[76,81,72,71],[77,10,73,8,"name"],[77,14,73,12],[78,10,74,8,"email"],[78,15,74,13],[79,10,75,8,"password"],[79,18,75,16],[80,10,76,8,"userType"],[80,18,76,16],[81,10,77,8,"phone"],[82,8,78,6],[82,9,78,7],[82,10,78,8],[83,8,80,6],[83,14,80,12],[84,10,80,14,"token"],[84,15,80,19],[84,17,80,21,"newToken"],[84,25,80,29],[85,10,80,31,"user"],[85,14,80,35],[85,16,80,37,"newUser"],[86,8,80,45],[86,9,80,46],[86,12,80,49,"response"],[86,20,80,57],[86,21,80,58,"data"],[86,25,80,62],[87,8,82,6],[87,14,82,12,"AsyncStorage"],[87,26,82,24],[87,27,82,24,"default"],[87,34,82,24],[87,35,82,25,"setItem"],[87,42,82,32],[87,43,82,33],[87,50,82,40],[87,52,82,42,"newToken"],[87,60,82,50],[87,61,82,51],[88,8,83,6],[88,14,83,12,"AsyncStorage"],[88,26,83,24],[88,27,83,24,"default"],[88,34,83,24],[88,35,83,25,"setItem"],[88,42,83,32],[88,43,83,33],[88,49,83,39],[88,51,83,41,"JSON"],[88,55,83,45],[88,56,83,46,"stringify"],[88,65,83,55],[88,66,83,56,"newUser"],[88,73,83,63],[88,74,83,64],[88,75,83,65],[89,8,85,6,"setToken"],[89,16,85,14],[89,17,85,15,"newToken"],[89,25,85,23],[89,26,85,24],[90,8,86,6,"setUser"],[90,15,86,13],[90,16,86,14,"newUser"],[90,23,86,21],[90,24,86,22],[91,6,87,4],[91,7,87,5],[91,8,87,6],[91,15,87,13,"error"],[91,20,87,23],[91,22,87,25],[92,8,88,6],[92,14,88,12],[92,18,88,16,"Error"],[92,23,88,21],[92,24,88,22,"error"],[92,29,88,27],[92,30,88,28,"response"],[92,38,88,36],[92,40,88,38,"data"],[92,44,88,42],[92,46,88,44,"detail"],[92,52,88,50],[92,56,88,54],[92,77,88,75],[92,78,88,76],[93,6,89,4],[94,4,90,2],[94,5,90,3],[95,4,92,2],[95,10,92,8,"logout"],[95,16,92,14],[95,19,92,17],[95,25,92,17,"logout"],[95,26,92,17],[95,31,92,29],[96,6,93,4],[96,10,93,8],[97,8,94,6],[97,14,94,12,"AsyncStorage"],[97,26,94,24],[97,27,94,24,"default"],[97,34,94,24],[97,35,94,25,"removeItem"],[97,45,94,35],[97,46,94,36],[97,53,94,43],[97,54,94,44],[98,8,95,6],[98,14,95,12,"AsyncStorage"],[98,26,95,24],[98,27,95,24,"default"],[98,34,95,24],[98,35,95,25,"removeItem"],[98,45,95,35],[98,46,95,36],[98,52,95,42],[98,53,95,43],[99,8,96,6,"setToken"],[99,16,96,14],[99,17,96,15],[99,21,96,19],[99,22,96,20],[100,8,97,6,"setUser"],[100,15,97,13],[100,16,97,14],[100,20,97,18],[100,21,97,19],[101,6,98,4],[101,7,98,5],[101,8,98,6],[101,15,98,13,"error"],[101,20,98,18],[101,22,98,20],[102,8,99,6,"console"],[102,15,99,13],[102,16,99,14,"error"],[102,21,99,19],[102,22,99,20],[102,42,99,40],[102,44,99,42,"error"],[102,49,99,47],[102,50,99,48],[103,6,100,4],[104,4,101,2],[104,5,101,3],[105,4,103,2],[105,24,104,4],[105,28,104,4,"_reactJsxDevRuntime"],[105,47,104,4],[105,48,104,4,"jsxDEV"],[105,54,104,4],[105,56,104,5,"AuthContext"],[105,67,104,16],[105,68,104,17,"Provider"],[105,76,104,25],[106,6,104,26,"value"],[106,11,104,31],[106,13,104,33],[107,8,104,35,"user"],[107,12,104,39],[108,8,104,41,"token"],[108,13,104,46],[109,8,104,48,"loading"],[109,15,104,55],[110,8,104,57,"login"],[110,13,104,62],[111,8,104,64,"register"],[111,16,104,72],[112,8,104,74,"logout"],[113,6,104,81],[113,7,104,83],[114,6,104,83,"children"],[114,14,104,83],[114,16,105,7,"children"],[115,4,105,15],[116,6,105,15,"fileName"],[116,14,105,15],[116,16,105,15,"_jsxFileName"],[116,28,105,15],[117,6,105,15,"lineNumber"],[117,16,105,15],[118,6,105,15,"columnNumber"],[118,18,105,15],[119,4,105,15],[119,11,106,26],[119,12,106,27],[120,2,108,0],[120,3,108,1],[121,2,110,7],[121,8,110,13,"useAuth"],[121,15,110,20],[121,18,110,23,"useAuth"],[121,19,110,23],[121,24,110,29],[122,4,111,2],[122,10,111,8,"context"],[122,17,111,15],[122,20,111,18],[122,24,111,18,"useContext"],[122,30,111,28],[122,31,111,28,"useContext"],[122,41,111,28],[122,43,111,29,"AuthContext"],[122,54,111,40],[122,55,111,41],[123,4,112,2],[123,8,112,6,"context"],[123,15,112,13],[123,20,112,18,"undefined"],[123,29,112,27],[123,31,112,29],[124,6,113,4],[124,12,113,10],[124,16,113,14,"Error"],[124,21,113,19],[124,22,113,20],[124,67,113,65],[124,68,113,66],[125,4,114,2],[126,4,115,2],[126,11,115,9,"context"],[126,18,115,16],[127,2,116,0],[127,3,116,1],[128,0,116,2],[128,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJoB;iBKE;GLS;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}