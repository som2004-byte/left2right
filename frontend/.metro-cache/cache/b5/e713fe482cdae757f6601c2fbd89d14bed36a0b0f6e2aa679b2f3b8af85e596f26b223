{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/login`, {\n          email,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (name, email, password, userType, phone) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/register`, {\n          name,\n          email,\n          password,\n          userType,\n          phone\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":138,"map":[[15,2,26,0,"Object"],[15,8,26,0],[15,9,26,0,"defineProperty"],[15,23,26,0],[15,24,26,0,"exports"],[15,31,26,0],[16,4,26,0,"enumerable"],[16,14,26,0],[17,4,26,0,"get"],[17,7,26,0],[17,18,26,0,"get"],[17,19,26,0],[18,6,26,0],[18,13,26,0,"AuthProvider"],[18,25,26,0],[19,4,26,0],[20,2,26,0],[21,2,110,0,"Object"],[21,8,110,0],[21,9,110,0,"defineProperty"],[21,23,110,0],[21,24,110,0,"exports"],[21,31,110,0],[22,4,110,0,"enumerable"],[22,14,110,0],[23,4,110,0,"get"],[23,7,110,0],[23,18,110,0,"get"],[23,19,110,0],[24,6,110,0],[24,13,110,0,"useAuth"],[24,20,110,0],[25,4,110,0],[26,2,110,0],[27,2,116,2],[27,6,116,2,"_expoVirtualEnv"],[27,21,116,2],[27,24,116,2,"require"],[27,31,116,2],[27,32,116,2,"_dependencyMap"],[27,46,116,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxDevRuntime"],[33,25,3,26],[33,28,3,26,"require"],[33,35,3,26],[33,36,3,26,"_dependencyMap"],[33,50,3,26],[34,2,5,0],[34,8,5,6,"BACKEND_URL"],[34,19,5,17],[34,22,5,17,"_expoVirtualEnv"],[34,37,5,17],[34,38,5,17,"env"],[34,41,5,17],[34,42,5,17,"EXPO_PUBLIC_BACKEND_URL"],[34,65,5,55],[35,2,24,0],[35,8,24,6,"AuthContext"],[35,19,24,17],[35,35,24,20],[35,39,24,20,"createContext"],[35,45,24,33],[35,46,24,33,"createContext"],[35,59,24,33],[35,61,24,63,"undefined"],[35,70,24,72],[35,71,24,73],[36,2,26,7],[36,8,26,13,"AuthProvider"],[36,20,26,66],[36,23,26,69,"AuthProvider"],[36,24,26,70],[37,4,26,72,"children"],[38,2,26,81],[38,3,26,82],[38,8,26,87],[39,4,26,87,"_s"],[39,6,26,87],[40,4,27,2],[40,10,27,8],[40,11,27,9,"user"],[40,15,27,13],[40,17,27,15,"setUser"],[40,24,27,22],[40,25,27,23],[40,28,27,26],[40,32,27,26,"useState"],[40,38,27,34],[40,39,27,34,"useState"],[40,47,27,34],[40,49,27,48],[40,53,27,52],[40,54,27,53],[41,4,28,2],[41,10,28,8],[41,11,28,9,"token"],[41,16,28,14],[41,18,28,16,"setToken"],[41,26,28,24],[41,27,28,25],[41,30,28,28],[41,34,28,28,"useState"],[41,40,28,36],[41,41,28,36,"useState"],[41,49,28,36],[41,51,28,52],[41,55,28,56],[41,56,28,57],[42,4,29,2],[42,10,29,8],[42,11,29,9,"loading"],[42,18,29,16],[42,20,29,18,"setLoading"],[42,30,29,28],[42,31,29,29],[42,34,29,32],[42,38,29,32,"useState"],[42,44,29,40],[42,45,29,40,"useState"],[42,53,29,40],[42,55,29,41],[42,59,29,45],[42,60,29,46],[43,4,31,2],[43,8,31,2,"useEffect"],[43,14,31,11],[43,15,31,11,"useEffect"],[43,24,31,11],[43,26,31,12],[43,32,31,18],[44,6,32,4,"loadStoredAuth"],[44,20,32,18],[44,21,32,19],[44,22,32,20],[45,4,33,2],[45,5,33,3],[45,7,33,5],[45,9,33,7],[45,10,33,8],[46,4,35,2],[46,10,35,8,"loadStoredAuth"],[46,24,35,22],[46,27,35,25],[46,33,35,25,"loadStoredAuth"],[46,34,35,25],[46,39,35,37],[47,6,36,4],[47,10,36,8],[48,8,37,6],[48,14,37,12,"storedToken"],[48,25,37,23],[48,28,37,26],[48,34,37,32,"AsyncStorage"],[48,46,37,44],[48,47,37,44,"default"],[48,54,37,44],[48,55,37,45,"getItem"],[48,62,37,52],[48,63,37,53],[48,70,37,60],[48,71,37,61],[49,8,38,6],[49,14,38,12,"storedUser"],[49,24,38,22],[49,27,38,25],[49,33,38,31,"AsyncStorage"],[49,45,38,43],[49,46,38,43,"default"],[49,53,38,43],[49,54,38,44,"getItem"],[49,61,38,51],[49,62,38,52],[49,68,38,58],[49,69,38,59],[50,8,40,6],[50,12,40,10,"storedToken"],[50,23,40,21],[50,27,40,25,"storedUser"],[50,37,40,35],[50,39,40,37],[51,10,41,8,"setToken"],[51,18,41,16],[51,19,41,17,"storedToken"],[51,30,41,28],[51,31,41,29],[52,10,42,8,"setUser"],[52,17,42,15],[52,18,42,16,"JSON"],[52,22,42,20],[52,23,42,21,"parse"],[52,28,42,26],[52,29,42,27,"storedUser"],[52,39,42,37],[52,40,42,38],[52,41,42,39],[53,8,43,6],[54,6,44,4],[54,7,44,5],[54,8,44,6],[54,15,44,13,"error"],[54,20,44,18],[54,22,44,20],[55,8,45,6,"console"],[55,15,45,13],[55,16,45,14,"error"],[55,21,45,19],[55,22,45,20],[55,43,45,41],[55,45,45,43,"error"],[55,50,45,48],[55,51,45,49],[56,6,46,4],[56,7,46,5],[56,16,46,14],[57,8,47,6,"setLoading"],[57,18,47,16],[57,19,47,17],[57,24,47,22],[57,25,47,23],[58,6,48,4],[59,4,49,2],[59,5,49,3],[60,4,51,2],[60,10,51,8,"login"],[60,15,51,13],[60,18,51,16],[60,24,51,16,"login"],[60,25,51,23,"email"],[60,30,51,36],[60,32,51,38,"password"],[60,40,51,54],[60,45,51,59],[61,6,52,4],[61,10,52,8],[62,8,53,6],[62,14,53,12,"response"],[62,22,53,20],[62,25,53,23],[62,31,53,29,"axios"],[62,36,53,34],[62,37,53,34,"default"],[62,44,53,34],[62,45,53,35,"post"],[62,49,53,39],[62,50,53,40],[62,53,53,43,"BACKEND_URL"],[62,64,53,54],[62,76,53,66],[62,78,53,68],[63,10,54,8,"email"],[63,15,54,13],[64,10,55,8,"password"],[65,8,56,6],[65,9,56,7],[65,10,56,8],[66,8,58,6],[66,14,58,12],[67,10,58,14,"token"],[67,15,58,19],[67,17,58,21,"newToken"],[67,25,58,29],[68,10,58,31,"user"],[68,14,58,35],[68,16,58,37,"newUser"],[69,8,58,45],[69,9,58,46],[69,12,58,49,"response"],[69,20,58,57],[69,21,58,58,"data"],[69,25,58,62],[70,8,60,6],[70,14,60,12,"AsyncStorage"],[70,26,60,24],[70,27,60,24,"default"],[70,34,60,24],[70,35,60,25,"setItem"],[70,42,60,32],[70,43,60,33],[70,50,60,40],[70,52,60,42,"newToken"],[70,60,60,50],[70,61,60,51],[71,8,61,6],[71,14,61,12,"AsyncStorage"],[71,26,61,24],[71,27,61,24,"default"],[71,34,61,24],[71,35,61,25,"setItem"],[71,42,61,32],[71,43,61,33],[71,49,61,39],[71,51,61,41,"JSON"],[71,55,61,45],[71,56,61,46,"stringify"],[71,65,61,55],[71,66,61,56,"newUser"],[71,73,61,63],[71,74,61,64],[71,75,61,65],[72,8,63,6,"setToken"],[72,16,63,14],[72,17,63,15,"newToken"],[72,25,63,23],[72,26,63,24],[73,8,64,6,"setUser"],[73,15,64,13],[73,16,64,14,"newUser"],[73,23,64,21],[73,24,64,22],[74,6,65,4],[74,7,65,5],[74,8,65,6],[74,15,65,13,"error"],[74,20,65,23],[74,22,65,25],[75,8,66,6],[75,14,66,12],[75,18,66,16,"Error"],[75,23,66,21],[75,24,66,22,"error"],[75,29,66,27],[75,30,66,28,"response"],[75,38,66,36],[75,40,66,38,"data"],[75,44,66,42],[75,46,66,44,"detail"],[75,52,66,50],[75,56,66,54],[75,70,66,68],[75,71,66,69],[76,6,67,4],[77,4,68,2],[77,5,68,3],[78,4,70,2],[78,10,70,8,"register"],[78,18,70,16],[78,21,70,19],[78,27,70,19,"register"],[78,28,70,26,"name"],[78,32,70,38],[78,34,70,40,"email"],[78,39,70,53],[78,41,70,55,"password"],[78,49,70,71],[78,51,70,73,"userType"],[78,59,70,89],[78,61,70,91,"phone"],[78,66,70,105],[78,71,70,110],[79,6,71,4],[79,10,71,8],[80,8,72,6],[80,14,72,12,"response"],[80,22,72,20],[80,25,72,23],[80,31,72,29,"axios"],[80,36,72,34],[80,37,72,34,"default"],[80,44,72,34],[80,45,72,35,"post"],[80,49,72,39],[80,50,72,40],[80,53,72,43,"BACKEND_URL"],[80,64,72,54],[80,79,72,69],[80,81,72,71],[81,10,73,8,"name"],[81,14,73,12],[82,10,74,8,"email"],[82,15,74,13],[83,10,75,8,"password"],[83,18,75,16],[84,10,76,8,"userType"],[84,18,76,16],[85,10,77,8,"phone"],[86,8,78,6],[86,9,78,7],[86,10,78,8],[87,8,80,6],[87,14,80,12],[88,10,80,14,"token"],[88,15,80,19],[88,17,80,21,"newToken"],[88,25,80,29],[89,10,80,31,"user"],[89,14,80,35],[89,16,80,37,"newUser"],[90,8,80,45],[90,9,80,46],[90,12,80,49,"response"],[90,20,80,57],[90,21,80,58,"data"],[90,25,80,62],[91,8,82,6],[91,14,82,12,"AsyncStorage"],[91,26,82,24],[91,27,82,24,"default"],[91,34,82,24],[91,35,82,25,"setItem"],[91,42,82,32],[91,43,82,33],[91,50,82,40],[91,52,82,42,"newToken"],[91,60,82,50],[91,61,82,51],[92,8,83,6],[92,14,83,12,"AsyncStorage"],[92,26,83,24],[92,27,83,24,"default"],[92,34,83,24],[92,35,83,25,"setItem"],[92,42,83,32],[92,43,83,33],[92,49,83,39],[92,51,83,41,"JSON"],[92,55,83,45],[92,56,83,46,"stringify"],[92,65,83,55],[92,66,83,56,"newUser"],[92,73,83,63],[92,74,83,64],[92,75,83,65],[93,8,85,6,"setToken"],[93,16,85,14],[93,17,85,15,"newToken"],[93,25,85,23],[93,26,85,24],[94,8,86,6,"setUser"],[94,15,86,13],[94,16,86,14,"newUser"],[94,23,86,21],[94,24,86,22],[95,6,87,4],[95,7,87,5],[95,8,87,6],[95,15,87,13,"error"],[95,20,87,23],[95,22,87,25],[96,8,88,6],[96,14,88,12],[96,18,88,16,"Error"],[96,23,88,21],[96,24,88,22,"error"],[96,29,88,27],[96,30,88,28,"response"],[96,38,88,36],[96,40,88,38,"data"],[96,44,88,42],[96,46,88,44,"detail"],[96,52,88,50],[96,56,88,54],[96,77,88,75],[96,78,88,76],[97,6,89,4],[98,4,90,2],[98,5,90,3],[99,4,92,2],[99,10,92,8,"logout"],[99,16,92,14],[99,19,92,17],[99,25,92,17,"logout"],[99,26,92,17],[99,31,92,29],[100,6,93,4],[100,10,93,8],[101,8,94,6],[101,14,94,12,"AsyncStorage"],[101,26,94,24],[101,27,94,24,"default"],[101,34,94,24],[101,35,94,25,"removeItem"],[101,45,94,35],[101,46,94,36],[101,53,94,43],[101,54,94,44],[102,8,95,6],[102,14,95,12,"AsyncStorage"],[102,26,95,24],[102,27,95,24,"default"],[102,34,95,24],[102,35,95,25,"removeItem"],[102,45,95,35],[102,46,95,36],[102,52,95,42],[102,53,95,43],[103,8,96,6,"setToken"],[103,16,96,14],[103,17,96,15],[103,21,96,19],[103,22,96,20],[104,8,97,6,"setUser"],[104,15,97,13],[104,16,97,14],[104,20,97,18],[104,21,97,19],[105,6,98,4],[105,7,98,5],[105,8,98,6],[105,15,98,13,"error"],[105,20,98,18],[105,22,98,20],[106,8,99,6,"console"],[106,15,99,13],[106,16,99,14,"error"],[106,21,99,19],[106,22,99,20],[106,42,99,40],[106,44,99,42,"error"],[106,49,99,47],[106,50,99,48],[107,6,100,4],[108,4,101,2],[108,5,101,3],[109,4,103,2],[109,24,104,4],[109,28,104,4,"_reactJsxDevRuntime"],[109,47,104,4],[109,48,104,4,"jsxDEV"],[109,54,104,4],[109,56,104,5,"AuthContext"],[109,67,104,16],[109,68,104,17,"Provider"],[109,76,104,25],[110,6,104,26,"value"],[110,11,104,31],[110,13,104,33],[111,8,104,35,"user"],[111,12,104,39],[112,8,104,41,"token"],[112,13,104,46],[113,8,104,48,"loading"],[113,15,104,55],[114,8,104,57,"login"],[114,13,104,62],[115,8,104,64,"register"],[115,16,104,72],[116,8,104,74,"logout"],[117,6,104,81],[117,7,104,83],[118,6,104,83,"children"],[118,14,104,83],[118,16,105,7,"children"],[119,4,105,15],[120,6,105,15,"fileName"],[120,14,105,15],[120,16,105,15,"_jsxFileName"],[120,28,105,15],[121,6,105,15,"lineNumber"],[121,16,105,15],[122,6,105,15,"columnNumber"],[122,18,105,15],[123,4,105,15],[123,11,106,26],[123,12,106,27],[124,2,108,0],[124,3,108,1],[125,2,108,2,"_s"],[125,4,108,2],[125,5,26,13,"AuthProvider"],[125,17,26,66],[126,2,26,66,"_c"],[126,4,26,66],[126,7,26,13,"AuthProvider"],[126,19,26,66],[127,2,110,7],[127,8,110,13,"useAuth"],[127,15,110,20],[127,18,110,23,"useAuth"],[127,19,110,23],[127,24,110,29],[128,4,110,29,"_s2"],[128,7,110,29],[129,4,111,2],[129,10,111,8,"context"],[129,17,111,15],[129,20,111,18],[129,24,111,18,"useContext"],[129,30,111,28],[129,31,111,28,"useContext"],[129,41,111,28],[129,43,111,29,"AuthContext"],[129,54,111,40],[129,55,111,41],[130,4,112,2],[130,8,112,6,"context"],[130,15,112,13],[130,20,112,18,"undefined"],[130,29,112,27],[130,31,112,29],[131,6,113,4],[131,12,113,10],[131,16,113,14,"Error"],[131,21,113,19],[131,22,113,20],[131,67,113,65],[131,68,113,66],[132,4,114,2],[133,4,115,2],[133,11,115,9,"context"],[133,18,115,16],[134,2,116,0],[134,3,116,1],[135,2,116,2,"_s2"],[135,5,116,2],[135,6,110,13,"useAuth"],[135,13,110,20],[136,2,110,20],[136,6,110,20,"_c"],[136,8,110,20],[137,2,110,20,"$RefreshReg$"],[137,14,110,20],[137,15,110,20,"_c"],[137,17,110,20],[138,0,110,20],[138,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJoB;iBKE;GLS;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}